<!DOCTYPE html>
<html>
   <head>
	 <title> please! papers! </title>
    <meta name ="description" content="just a test"
    <meta charset="UTF-8">
	   <style>
@font-face {
  font-family: 'MC';
  src: url("./fonts/MerchantCopy.ttf") format("tff");
}
p, b, h1, h2, h3, h4, h5, h6 {
font-family: 'MC';	
}
body {
  	font-family: "MC" !important; 
	background-image: url("images/bg.png");
	background-repeat: repeat;
}
  
  #passport {
        position: fixed;
        top: 37.5%;
        left: 7.5%;
        transform: translate(-50%, -50%);
        border: 8px #4e2812 solid;
        display: inline-block;
        background: #fffbf9;
        padding: 16px;
        padding-bottom: 48px;
      }
   #error {
	position: fixed;
        top: 30%;
	z-index: 9;
        right: 30%;
        transform: translate(-50%, -50%);
	border: 0.5px #000000 solid;
	border-bottom: 42px #f0f0f0 solid;
        display: inline-block;
        background: #ffffff;
        padding: 2px;
      } 
#monitor {
        position: fixed;
        top: 31.5%;
        left: 50%;
        transform: translate(-50%, -50%);
	border: 20px #000000 solid;
        display: inline-block;
        background: #8bb0d7;
	height: 550px;
        width: 53%;
	z-index: -1;
        padding: 2px;
      } 
		   
	.webPhoto {
	  display: block;
 	  margin-left: auto;
	}
.toolBar {
	
}
.entrantBorder {
	  display: block;
	  position: fixed; 
	  bottom: 75%; 
	  right:87.9%; 
 	  margin-right: auto;
	  z-index: 4;
	}
.boothBg {
	  display: block;
	  position: fixed; 
	  bottom: 85%; 
	  right:87.9%; 
 	  margin-right: auto;
	  z-index: -1;
	}
#buttons {
	display: block;
	  position: fixed; 
	  bottom: -2%; 
	  right: 31.75%; 
 	  margin-right: auto;
	  z-index: 1;
	}
#buttonL {
	display: block;
	  position: fixed; 
	  bottom: 15%;   
	  right: 51.75%;   
 	  margin-right: auto;
	  z-index: 1;
	}
#buttonR {
	display: block;
	  position: fixed; 
	  bottom: 15.5%;   right: 35.75%;   
 	  margin-right: auto;
	  z-index: 1;
         }
	   </style>
  </head>
  <body>
<div id="base">
	<img class="entrantBorder" width="225" height="225" src="images/entranthing.png"> </img>
	<img class="boothBg" width="225" height="200" src="images/boothBg.png"> </img>
    <img id="entrant0" width="200" height="200" src="images/axoant.png"> </img>
    <img id="entrant1" width="200" height="200" src="images/yowhat.PNG"> </img>
    <img id="entrant2" width="200" height="200" src="images/agressiv.png"></img>
    <img id="entrant3" width="200" height="200" src="images/timothy.png"></img>
    <img id="entrant4" width="200" height="200" src="images/gramby.png"></img>
    <img id="entrant5" width="200" height="200" src="images/tony.png"></img>
    <img id="entrant6" width="150" height="200" src="images/peeplot4k.png"></img>
    <img id="entrant7" width="200" height="200" src="images/packnumb.png"></img>
    <img id="entrant8" width="200" height="200" src="images/frickletboy.png"></img>
    <img id="entrant9" width="200" height="200" src="images/buisnessfricklet.png"></img>
<div id="passport">
		<p id="name"> ant, axo </p>
		<p id="gender">SEX: ? </p>
		<p id="expire">ENTER BY: 0,0,0 </p>
</div>
<div id="error">
	<p> Errorㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤ<button style="border:1px solid transparent; background-color: transparent;" onclick='uiToggle("error")'>X </button></p>
	<p id="reason"> yo mamma!! </p>
</div>
<div id="monitor">
	<center><h2 id="webName"> ant, axo </h2></center>
	<right><img id="webImage" width="200" height="200" class="webPhoto" src="images/axoant.png"></img></right>
	<h3 id="webGender">SEX: ? </h3>
</div>
<center>
	<br><br><br><br><br><br><br>
	<img id="buttons" src="images/button terminal.png"></img>
	<button id="buttonL" onclick="approve()" style="outline: none; border:1px solid transparent; background-color: transparent;"> <img src="images/buttonApprove.png"> </img></button>
	<button id="buttonR" onclick="denied()" style="outline: none; border:1px solid transparent; background-color: transparent;"> <img src="images/buttonDenied.png"> </img></button>
<p id="clock"><b> 0, 0, 0 </b></p>
<b><p id="cash"></p></b>
</center>
</div>
<div id="bankrupt">

	<center> <p id="bankCash" style="color:red"><b> </b></p> <br><p><b> Today is a sad day.<br> Your border has went bankrupt. You can no longer operate. </b></p>
	<button onclick='updateMoney("set", 100)' style="border:1px solid transparent; background-color: transparent;"> <img src="images/rEstArT.png"> </img></button>
	</center>
</div>
		
	<script>
		 const startTimer = function() {
 autoMps = setInterval(function(){
	 if (!document.hidden) {
		    timerTime ++;
	            if (timerTime >= 90) {
			error.style.display = "block"
			document.getElementById("reason").innerHTML = "Verfying documents took too long. -10$ penalty."
			updateMoney("subtract", 10);
			timerTime = 0;
		    }
	 } 
             		}, 1000);
            		}
		var trophys = localStorage.getItem("trophys")
		if (trophys == null) {
			trophys = [0, 0]
			localStorage.setItem("trophys", trophys)
		}
		var d = new Date();
		var time = [0, 0, 0];
		document.getElementById("bankrupt").style.display = "none";
		time[0] = d.getDate();
		time[1] = d.getMonth() + 1;
		time[2] = d.getFullYear();
		document.getElementById("clock").innerHTML = time
		var passport = [document.getElementById("name"), document.getElementById("gender"), [0, 0, 0]];
		const error = document.getElementById("error")
		error.style.display = "none";
		var randomizer = 0
		var correct = localStorage.getItem("streak")
		var money = localStorage.getItem("tokens")
		money = Number(money)
		if (correct == null) {
			correct = 0;	
		}
		if (trophys[0] == 0) {
			trophys[0] = 1;
			localStorage.setItem("trophys", trophys)
			updateMoney("set", 100);
		}
		updateMoney("add", 0);
		const nameList = [" ant, axo ", " stark, mr ", " jake, johnson ", " skittlus, timotha ", " gramby ", " manuel, tony ", " leint, peeb ", " pack, numb ", " kolma, kilm ", " tot, tater "]
		const entrants = [[document.getElementById("entrant0"), " ant, axo ", "SEX: ? "], [document.getElementById("entrant1"), " stark, mr ", "SEX: M "], [document.getElementById("entrant2"), " jake, johnson ", "SEX: M "], [document.getElementById("entrant3"), " skittlus, timotha ", "SEX: ? "], [document.getElementById("entrant4"), " gramby ", "SEX: ? "], [document.getElementById("entrant5"), " manuel, tony ", "SEX: M "], [document.getElementById("entrant6"), " leint, peeb ", "SEX: ? "], [document.getElementById("entrant7"), " pack, numb ", "SEX: M "]
				 ,  [document.getElementById("entrant8"), " kolma, kilm ", "SEX: M "],  [document.getElementById("entrant9"), " tot, tater ", "SEX: F "]];
		var currentEntrant = 0;
		for (randomizer = 0; randomizer < entrants.length; randomizer ++) {
			entrants[randomizer][0].style.display = "none";
			entrants[0][0].style.display = "block";
		}
		random("name")
		random("gender")
		random("expire")
		startTimer.call()
		
		//functinos
		
		
		function random(whatToRandom) {
		if (whatToRandom == "name") { //name
			randomizer = Math.floor(Math.random() * 101);
			if (randomizer <= 75) {
		 	 	passport[0] = nameList[currentEntrant];
			} else {
				randomizer = Math.floor(Math.random() * nameList.length);
				passport[0] = nameList[randomizer];
			}
			document.getElementById("name").innerHTML = passport[0]
		} else if (whatToRandom == "gender") { //gender
			randomizer = Math.floor(Math.random() * 101);
			if (randomizer <= 70) {
				passport[1] = entrants[currentEntrant][2];
			} else {
				randomizer = Math.floor(Math.random() * 31);
				if (randomizer <= 10) {
		 	 		passport[1] = "SEX: M ";
				} else if (randomizer <= 20) {
					passport[1] = "SEX: F ";
				} else {
					passport[1] = "SEX: ? ";
				}
			}
		document.getElementById("gender").innerHTML = passport[1]
		} else if (whatToRandom == "expire") {
			let fakeTime = [time[0], time[1], time[2]];
			randomizer = Math.floor(Math.random() * 101);
			if (randomizer <= 75) {
				randomizer = Math.floor(Math.random() * 61);
				fakeTime[0] += randomizer;
				if (fakeTime[0] > 30) {
					fakeTime[0] -= 30;
					fakeTime[1] += 1;
					if (fakeTime[1] > 12) {
						fakeTime[2] += 1;
						fakeTime[1] = 1;
					}
					if (fakeTime[0] == 0) {
						fakeTime[0] = 1;
					}
				}
				if (fakeTime[0] > 30) {
					fakeTime[0] -= 30;
					fakeTime[1] += 1;
					if (fakeTime[1] > 12) {
						fakeTime[2] += 1;
						fakeTime[1] = 1;
					}
					if (fakeTime[0] == 0) {
						fakeTime[0] = 1;
					}
				}
				for (randomizer = 0; randomizer < 3; randomizer ++) {
					passport[2][randomizer] = fakeTime[randomizer]
				}
			} else {
				randomizer = Math.floor(Math.random() * 61);
				fakeTime[0] -= randomizer;
				if (fakeTime[0] < 1) {
					fakeTime[0] += 30;
					fakeTime[1] -= 1;
					if (fakeTime[1] < 1) {
						fakeTime[2] -= 1;
						fakeTime[1] = 12;
					}
					if (fakeTime[0] == 0) {
						fakeTime[0] = 31;
					}
				}
				if (fakeTime[0] < 1) {
					fakeTime[0] += 30;
					fakeTime[1] -= 1;
					if (fakeTime[1] < 1) {
						fakeTime[2] -= 1;
						fakeTime[1] = 12;
					}
					if (fakeTime[0] == 0) {
						fakeTime[0] = 31;
					}
				}
				for (randomizer = 0; randomizer < 3; randomizer ++) {
					passport[2][randomizer] = fakeTime[randomizer]
				}
			}
			document.getElementById("expire").innerHTML = "ENTER BY: " + passport[2]
		}
		}
		let lastEntrant = currentEntrant;
		var timerTime = 0;
		function approve() {
			timerTime = 0;
			lastEntrant = currentEntrant
			if (entrants[currentEntrant][1] == document.getElementById("name").innerHTML && entrants[currentEntrant][2] == document.getElementById("gender").innerHTML) {
				if (passport[2][0] >= time[0] && passport[2][1] >= time[1]) {
					correct += 1
					let cCheck = correct % 10;
					if (cCheck == 0) {
						updateMoney("add", 10);
					}
				} else if (passport[2][0] < time[0] && passport[2][1] > time[1]) {
					correct += 1
					let cCheck = correct % 10;
					if (cCheck == 0) {
						updateMoney("add", 10);
					}
				} else if (passport[2][0] < time[0] && passport[2][1] < time[1] && passport[2][2] > time[2]) {
					correct += 1
					let cCheck = correct % 10;
					if (cCheck == 0) {
						updateMoney("add", 10);
					}
				}  else {
				correct -= 1
					if (passport[2][0] <= time[0] && passport[2][1] <= time[1] || passport[2][0] >= time[0] && passport[2][1] <= time[1] || passport[2][2] < time[2]) {
					error.style.display = "block"
					document.getElementById("reason").innerHTML = "Invalid entry date. -5$ penalty."
					updateMoney("subtract", 5);
					} 
				}
			}  else {
				correct -= 1
				if (entrants[currentEntrant][1] != document.getElementById("name").innerHTML) {
						error.style.display = "block"
						document.getElementById("reason").innerHTML = "Invalid name. -5$ penalty."
					        updateMoney("subtract", 5);  
				} else if (entrants[currentEntrant][2] != document.getElementById("gender").innerHTML) {
						error.style.display = "block"
						document.getElementById("reason").innerHTML = "Invalid gender. -5$ penalty."
						updateMoney("subtract", 5); 
				} else if (passport[2][0] <= time[0] && passport[2][1] <= time[1] || passport[2][0] >= time[0] && passport[2][1] <= time[1] || passport[2][2] < time[2]) {
					error.style.display = "block"
					document.getElementById("reason").innerHTML = "Invalid entry date. -5$ penalty."
					updateMoney("subtract", 5);
					} 
			}
			for (randomizer = 0; randomizer < entrants.length; randomizer ++) {
				entrants[randomizer][0].style.display = "none";
			}
			randomizer = Math.floor(Math.random() * entrants.length);
			currentEntrant = randomizer
			entrants[lastEntrant][0].style.display = "none";
			entrants[randomizer][0].style.display = "block";
			random("name")
			random("gender")
			random("expire")
			if (currentEntrant == lastEntrant) {
				generateEntrant()
			}
			let i = nameList.indexOf(passport[0]);
			document.getElementById("webName").innerHTML = "This person does not exist"
			document.getElementById("webGender").innerHTML = "This person could not be found."
			document.getElementById("webName").innerHTML = entrants[i][1]
			document.getElementById("webImage").src = entrants[i][0].src
			document.getElementById("webGender").innerHTML = entrants[i][2]

		}
		function denied() {
			timerTime = 0;
			lastEntrant = currentEntrant
			if (entrants[currentEntrant][1] != document.getElementById("name").innerHTML || entrants[currentEntrant][2] != document.getElementById("gender").innerHTML || passport[2][0] <= time[0] && passport[2][1] <= time[1] || passport[2][0] >= time[0] && passport[2][1] <= time[1] || passport[2][2] < time[2]) {
					correct += 1
					let cCheck = correct % 10;
					if (cCheck == 0) {
						updateMoney("add", 10);   
					}
				} else {
					correct -= 1
					error.style.display = "block"
					document.getElementById("reason").innerHTML = "Entrant clear for entry. -5$ penalty."
					updateMoney("subtract", 5);
				}
			for (randomizer = 0; randomizer < entrants.length; randomizer ++) {
				entrants[randomizer][0].style.display = "none";
			}
			randomizer = Math.floor(Math.random() * entrants.length);
			currentEntrant = randomizer
			entrants[lastEntrant][0].style.display = "none";
			entrants[randomizer][0].style.display = "block";
			random("name")
			random("gender")
			random("expire")
			if (currentEntrant == lastEntrant) {
				generateEntrant()
			}
			let i = nameList.indexOf(passport[0]);
			document.getElementById("webName").innerHTML = "This person does not exist"
			document.getElementById("webGender").innerHTML = "This person could not be found."
			document.getElementById("webName").innerHTML = entrants[i][1]
			document.getElementById("webImage").src = entrants[i][0].src
			document.getElementById("webGender").innerHTML = entrants[i][2]
		}
		function generateEntrant() {
			randomizer = Math.floor(Math.random() * entrants.length);
			currentEntrant = randomizer
			entrants[lastEntrant][0].style.display = "none";
			entrants[randomizer][0].style.display = "block";
			random("name")
			random("gender")
			random("expire")
			if (currentEntrant == lastEntrant) {
				generateEntrant()
			}
		}
		function uiToggle(whatotoggle) {
			switch (whatotoggle) {
				case "error":
					error.style.display = "none";
					break;
		}
		}
		function updateMoney(what, amount) {
			money = Number(money)
			switch (what) {
				case "add":
					money += amount;
					break;
				case "subtract":
					money -= amount;
					break;
				case "multiply":
					money *= amount;
					break;
				case "divide":
					money /= amount;
					break;
				case "set":
					money = amount;
					if (document.getElementById("base").style.display == "none") {
						document.getElementById("base").style.display = "block";
						document.getElementById("bankrupt").style.display = "none";
					}
					break;
			}	
			document.getElementById("cash").innerHTML = money + "$"
			localStorage.setItem("tokens", money)
			if (money <= 0) {
				document.getElementById("bankCash").innerHTML = money + "$"
				document.getElementById("base").style.display = "none";
				document.getElementById("bankrupt").style.display = "block";
			}
		}
	</script>
	</body>
</html>
    
