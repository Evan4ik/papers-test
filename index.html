<!DOCTYPE html>
<html>
   <head>
	 <title> please! papers! </title>
    <meta name ="description" content="just a test"
    <meta charset="UTF-8">
	   <style>
  #passport {
        position: fixed;
        top: 37.5%;
        left: 7.5%;
        transform: translate(-50%, -50%);
        border: 8px #4e2812 solid;
        display: inline-block;
        background: #fffbf9;
        padding: 16px;
        padding-bottom: 48px;
      }
   #error {
        position: fixed;
        top: 37.5%;
        right: 1%;
        transform: translate(-50%, -50%);
	border: 0.5px #000000 solid;
	border-bottom: 42px #f0f0f0 solid;
        display: inline-block;
        background: #ffffff;
        padding: 2px;
      } 
  #monitor {
        position: fixed;
        top: 37.5%;
        right: 1%;
        transform: translate(-50%, -50%);
	border: 5px #000000 solid;
        display: inline-block;
        background: #00ff00;
        padding: 2px;
      }  
	   
	   </style>
  </head>
  <body>
<div id="base">
	  <b><p id="cash"></p></b>
    <img id="entrant0" width="200" height="200" src="images/axoant.png"> </img>
    <img id="entrant1" width="200" height="200" src="images/yowhat.PNG"> </img>
    <img id="entrant2" width="200" height="200" src="images/agressiv.png"></img>
    <img id="entrant3" width="200" height="200" src="images/timothy.png"></img>
    <img id="entrant4" width="200" height="200" src="images/gramby.png"></img>
<!-- -->
    <img id="entrant1" width="200" height="200" src="images/yowhat.PNG"> </img>
    <img id="entrant2" width="200" height="200" src="images/agressiv.png"></img>
    <img id="entrant3" width="200" height="200" src="images/timothy.png"></img>
    <img id="entrant4" width="200" height="200" src="images/gramby.png"></img>
<div id="passport">
		<p id="name"> ant, axo </p>
		<p id="gender">SEX: ? </p>
		<p id="expire">ENTER BY: 0,0,0 </p>
</div>
<div id="error">
	<p> ErrorㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤㅤX </p>
	<p id="reason"> yo mamma!! </p>
</div>
<center>
	<br><br><br><br><br><br><br>
	<button onclick="approve()" style="border:1px solid transparent; background-color: transparent;"> <img src="images/approved.png"> </img></button>
	<button onclick="denied()" style="border:1px solid transparent; background-color: transparent;"> <img src="images/denied.png"> </img></button>
<p id="clock"><b> 0, 0, 0 </b></p>
</center>
</div>
<div id="bankrupt">

	<center> <p id="bankCash" style="color:red"><b> </b></p> <br><p><b> Today is a sad day.<br> Your border has went bankrupt. You can no longer operate. </b></p>
	<button onclick='updateMoney("set", 100)' style="border:1px solid transparent; background-color: transparent;"> <img src="images/rEstArT.png"> </img></button>
	</center>
</div>
		
	<script>
		 const startTimer = function() {
 autoMps = setInterval(function(){
		    timerTime ++;
	            if (timerTime >= 90) {
			error.style.display = "block"
			document.getElementById("reason").innerHTML = "Verfying documents took too long. -10$ penalty."
			updateMoney("subtract", 10);
			timerTime = 0;
			setTimeout(() => {
				error.style.display = "none"
			; }, 5000);    
		    }
             		}, 1000);
            		}
		 
		var d = new Date();
		var time = [0, 0, 0];
		document.getElementById("bankrupt").style.display = "none";
		time[0] = d.getDate();
		time[1] = d.getMonth() + 1;
		time[2] = d.getFullYear();
		document.getElementById("clock").innerHTML = time
		var passport = [document.getElementById("name"), document.getElementById("gender"), [0, 0, 0]];
		const error = document.getElementById("error")
		error.style.display = "none";
		var randomizer = 0
		var correct = localStorage.getItem("streak")
		var money = localStorage.getItem("tokens")
		money = Number(money)
		if (correct == null) {
			correct = 0;	
		}
		if (money == null) {
			money = 100;
		}
		updateMoney("add", 0);
		const nameList = [" ant, axo ", " stark, mr ", " jake, johnson ", " skittlus, timotha ", " gramby ", " pack, numb ", " let, frik ", " tot, tater "]
		const entrants = [[document.querySelectorAll("[id='entrant0']"), " ant, axo ", "SEX: ? "], [document.querySelectorAll("[id='entrant1']"), " stark, mr ", "SEX: M "], [document.querySelectorAll("[id='entrant2']"), " jake, johnson ", "SEX: M "], [document.querySelectorAll("[id='entrant3']"), " skittlus, timotha ", "SEX: ? "], [document.querySelectorAll("[id='entrant4']"), " gramby ", "SEX: ? "]];
		var currentEntrant = 0;
		for (randomizer = 0; randomizer < entrants.length; randomizer ++) {
			entrants[randomizer][0].style.display = "none";
			entrants[0][0].style.display = "block";
		}
		random("name")
		random("gender")
		random("expire")
		startTimer.call()
		
		//functinos
		
		
		function random(whatToRandom) {
		if (whatToRandom == "name") { //name
			randomizer = Math.floor(Math.random() * 101);
			if (randomizer <= 85) {
		 	 	passport[0] = nameList[currentEntrant];
			} else {
				randomizer = Math.floor(Math.random() * nameList.length);
				passport[0] = nameList[randomizer];
			}
			document.getElementById("name").innerHTML = passport[0]
		} else if (whatToRandom == "gender") { //gender
			randomizer = Math.floor(Math.random() * 101);
			if (randomizer <= 80) {
				passport[1] = entrants[currentEntrant][2];
			} else {
				randomizer = Math.floor(Math.random() * 31);
				if (randomizer <= 10) {
		 	 		passport[1] = "SEX: M ";
				} else if (randomizer <= 20) {
					passport[1] = "SEX: F ";
				} else {
					passport[1] = "SEX: ? ";
				}
			}
		document.getElementById("gender").innerHTML = passport[1]
		} else if (whatToRandom == "expire") {
			let fakeTime = [time[0], time[1], time[2]];
			randomizer = Math.floor(Math.random() * 101);
			if (randomizer <= 75) {
				randomizer = Math.floor(Math.random() * 61);
				fakeTime[0] += randomizer;
				if (fakeTime[0] > 30) {
					fakeTime[0] -= 30;
					fakeTime[1] += 1;
					if (fakeTime[1] > 12) {
						fakeTime[2] += 1;
						fakeTime[1] = 1;
					}
					if (fakeTime[0] == 0) {
						fakeTime[0] = 1;
					}
				}
				if (fakeTime[0] > 30) {
					fakeTime[0] -= 30;
					fakeTime[1] += 1;
					if (fakeTime[1] > 12) {
						fakeTime[2] += 1;
						fakeTime[1] = 1;
					}
					if (fakeTime[0] == 0) {
						fakeTime[0] = 1;
					}
				}
				for (randomizer = 0; randomizer < 3; randomizer ++) {
					passport[2][randomizer] = fakeTime[randomizer]
				}
			} else {
				randomizer = Math.floor(Math.random() * 61);
				fakeTime[0] -= randomizer;
				if (fakeTime[0] < 1) {
					fakeTime[0] += 30;
					fakeTime[1] -= 1;
					if (fakeTime[1] < 1) {
						fakeTime[2] -= 1;
						fakeTime[1] = 12;
					}
					if (fakeTime[0] == 0) {
						fakeTime[0] = 31;
					}
				}
				if (fakeTime[0] < 1) {
					fakeTime[0] += 30;
					fakeTime[1] -= 1;
					if (fakeTime[1] < 1) {
						fakeTime[2] -= 1;
						fakeTime[1] = 12;
					}
					if (fakeTime[0] == 0) {
						fakeTime[0] = 31;
					}
				}
				for (randomizer = 0; randomizer < 3; randomizer ++) {
					passport[2][randomizer] = fakeTime[randomizer]
				}
			}
			document.getElementById("expire").innerHTML = "ENTER BY: " + passport[2]
		}
		}
		let lastEntrant = currentEntrant;
		var timerTime = 0;
		function approve() {
			timerTime = 0;
			lastEntrant = currentEntrant
			if (entrants[currentEntrant][1] == document.getElementById("name").innerHTML && entrants[currentEntrant][2] == document.getElementById("gender").innerHTML) {
				if (passport[2][0] >= time[0] && passport[2][1] >= time[1]) {
					correct += 1
					let cCheck = correct % 10;
					if (cCheck == 0) {
						updateMoney("add", 10);
					}
				} else if (passport[2][0] <= time[0] && passport[2][1] >= time[1]) {
					correct += 1
					let cCheck = correct % 10;
					if (cCheck == 0) {
						updateMoney("add", 10);
					}
				} else if (passport[2][0] <= time[0] && passport[2][1] <= time[1] && passport[2][2] > time[2]) {
					correct += 1
					let cCheck = correct % 10;
					if (cCheck == 0) {
						updateMoney("add", 10);
					}
				}  else {
				correct -= 1
					if (passport[2][0] <= time[0] && passport[2][1] <= time[1] || passport[2][0] >= time[0] && passport[2][1] <= time[1] || passport[2][2] < time[2]) {
					error.style.display = "block"
					document.getElementById("reason").innerHTML = "Invalid entry date. -5$ penalty."
					updateMoney("subtract", 5);
					setTimeout(() => {
						error.style.display = "none"
						; }, 5000);
					} 
				}
			}  else {
				correct -= 1
				if (entrants[currentEntrant][1] != document.getElementById("name").innerHTML) {
						error.style.display = "block"
						document.getElementById("reason").innerHTML = "Invalid name. -5$ penalty."
					        updateMoney("subtract", 5);
						setTimeout(() => {
							error.style.display = "none"
						; }, 5000);   
				} else if (entrants[currentEntrant][2] != document.getElementById("gender").innerHTML) {
						error.style.display = "block"
						document.getElementById("reason").innerHTML = "Invalid gender. -5$ penalty."
						updateMoney("subtract", 5);
						setTimeout(() => {
							error.style.display = "none"
						; }, 5000);   
				} else if (passport[2][0] <= time[0] && passport[2][1] <= time[1] || passport[2][0] >= time[0] && passport[2][1] <= time[1] || passport[2][2] < time[2]) {
					error.style.display = "block"
					document.getElementById("reason").innerHTML = "Invalid entry date. -5$ penalty."
					updateMoney("subtract", 5);
					setTimeout(() => {
						error.style.display = "none"
					; }, 5000);
					} 
			}
			for (randomizer = 0; randomizer < entrants.length; randomizer ++) {
				entrants[randomizer][0].style.display = "none";
			}
			randomizer = Math.floor(Math.random() * entrants.length);
			currentEntrant = randomizer
			entrants[lastEntrant][0].style.display = "none";
			entrants[randomizer][0].style.display = "block";
			random("name")
			random("gender")
			random("expire")
			if (currentEntrant == lastEntrant) {
				generateEntrant()
			}

		}
		function denied() {
			timerTime = 0;
			lastEntrant = currentEntrant
			if (entrants[currentEntrant][1] != document.getElementById("name").innerHTML || entrants[currentEntrant][2] != document.getElementById("gender").innerHTML || passport[2][0] <= time[0] && passport[2][1] <= time[1] || passport[2][0] >= time[0] && passport[2][1] <= time[1] || passport[2][2] < time[2]) {
					correct += 1
					let cCheck = correct % 10;
					if (cCheck == 0) {
						updateMoney("add", 10);   
					}
				} else {
					correct -= 1
					error.style.display = "block"
					document.getElementById("reason").innerHTML = "Entrant clear for entry. -5$ penalty."
					updateMoney("subtract", 5);
					setTimeout(() => {
					error.style.display = "none"
					; }, 5000);  
				}
			for (randomizer = 0; randomizer < entrants.length; randomizer ++) {
				entrants[randomizer][0].style.display = "none";
			}
			randomizer = Math.floor(Math.random() * entrants.length);
			currentEntrant = randomizer
			entrants[lastEntrant][0].style.display = "none";
			entrants[randomizer][0].style.display = "block";
			random("name")
			random("gender")
			random("expire")
			if (currentEntrant == lastEntrant) {
				generateEntrant()
			}
		}
		function generateEntrant() {
			randomizer = Math.floor(Math.random() * entrants.length);
			currentEntrant = randomizer
			entrants[lastEntrant][0].style.display = "none";
			entrants[randomizer][0].style.display = "block";
			random("name")
			random("gender")
			random("expire")
			if (currentEntrant == lastEntrant) {
				generateEntrant()
			}
		}
		
		function updateMoney(what, amount) {
			money = Number(money)
			switch (what) {
				case "add":
					money += amount;
					break;
				case "subtract":
					money -= amount;
					break;
				case "multiply":
					money *= amount;
					break;
				case "divide":
					money /= amount;
					break;
				case "set":
					money = amount;
					if (document.getElementById("base").style.display == "none") {
						document.getElementById("base").style.display = "block";
						document.getElementById("bankrupt").style.display = "none";
					}
					break;
			}	
			document.getElementById("cash").innerHTML = money + "$"
			localStorage.setItem("tokens", money)
			if (money <= 0) {
				document.getElementById("bankCash").innerHTML = money + "$"
				document.getElementById("base").style.display = "none";
				document.getElementById("bankrupt").style.display = "block";
			}
		}
	</script>
	</body>
</html>
    
